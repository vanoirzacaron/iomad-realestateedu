/**
 * @module    local_email
 * @copyright 2021 Derick Turner
 * @author    Derick Turner
 * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("local_email/local_email",["jquery"],(function($){return{init:function(){$(".inputholder").on("focus",(function(){$(".insertatcaretactive").removeClass("insertatcaretactive"),$(this).addClass("insertatcaretactive")})),$("#fitem_id_body_editor").on("click",(function(){var EditorInput=$(this).parent().find("#id_body_editoreditable");$(".insertatcaretactive").removeClass("insertatcaretactive"),EditorInput.addClass("insertatcaretactive")})),$("#fitem_id_signature_editor").on("click",(function(){var EditorInput=$(this).parent().find("#id_body_editoreditable");$(".insertatcaretactive").removeClass("insertatcaretactive"),EditorInput.addClass("insertatcaretactive")})),$(".clickforword").mousedown((function(e){var myValue;e.preventDefault(),myValue="{"+this.text+"}",$(".insertatcaretactive").each((function(){var sel,range;if(void 0===this.value)window.getSelection?(sel=window.getSelection()).getRangeAt&&sel.rangeCount&&((range=sel.getRangeAt(0)).deleteContents(),range.insertNode(document.createTextNode(myValue))):document.selection&&document.selection.createRange&&(document.selection.createRange().text=myValue);else if(document.selection)this.focus(),(sel=document.selection.createRange()).text=myValue,this.focus();else if(this.selectionStart||"0"==this.selectionStart){var startPos=this.selectionStart,endPos=this.selectionEnd,scrollTop=this.scrollTop;this.value=this.value.substring(0,startPos)+myValue+this.value.substring(endPos,this.value.length),this.focus(),this.selectionStart=startPos+myValue.length,this.selectionEnd=startPos+myValue.length,this.scrollTop=scrollTop}else this.value+=myValue,this.focus()}))})),$(".emailclicktoedit").click((function(e){e.preventDefault(),$("#isediting").val(1),$("#id_emailto").prop("disabled",!1),$("#id_emailtoother").prop("disabled",!1),$("#id_emailfrom").prop("disabled",!1),$("#id_emailfromother").prop("disabled",!1),$("#id_emailcc").prop("disabled",!1),$("#id_emailccother").prop("disabled",!1),$("#id_emailreplyto").prop("disabled",!1),$("#id_emailreplytoother").prop("disabled",!1),$("#id_subject").prop("disabled",!1),$("#id_body_editor").prop("disabled",!1),$("#id_companylogo").prop("disabled",!1),$("#id_signature_editor").prop("disabled",!1),$("#id_save").prop("disabled",!1),$("#id_edit").prop("disabled",!0)}))}}}));

//# sourceMappingURL=local_email.min.js.map