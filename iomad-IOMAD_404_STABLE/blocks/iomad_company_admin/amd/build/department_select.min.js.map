{"version":3,"file":"department_select.min.js","sources":["../src/department_select.js"],"sourcesContent":["\ndefine(['jquery', 'core/tree'], function($, Tree) {\n    return {\n        // selectname: identify the 'select' form item by name\n        // selected: the id of the menu item to initially show bold\n        // submitform: 1/0 optionaly submit the form on click\n        init: function(selectname, submitform, selected) {\n\n            // instantiate the tree container\n            var tree = new Tree(\"#department_tree\");\n\n            // Hide the original select element\n            //$(\"#id_\" + selectname).hide();\n            $(\"select[name=\" + selectname + \"]\").parent().hide();\n\n            // set the initial selected\n            tree.setActiveItem($(\"span[data-id=\"+selected+\"]\"));\n\n            // get the data and set form\n            $(\".tree_dept_name\").click(function(e) {\n                if (e.which) {\n                    var id = $(this).attr(\"data-id\");\n                    $(\"select[name=\" + selectname + \"]\" + \" option[value=\" + id + \"]\").prop(\"selected\", true);\n\n                    // if there's a form to submit...\n                    if (submitform) {\n                        $(\"select[name=\" + selectname + \"]\").closest(\"form\").submit();\n                    }\n                }\n            });\n        }\n    };\n});\n"],"names":["define","$","Tree","init","selectname","submitform","selected","tree","parent","hide","setActiveItem","click","e","which","id","this","attr","prop","closest","submit"],"mappings":"AACAA,qDAAO,CAAC,SAAU,cAAc,SAASC,EAAGC,YACjC,CAIHC,KAAM,SAASC,WAAYC,WAAYC,cAG/BC,KAAO,IAAIL,KAAK,oBAIpBD,EAAE,eAAiBG,WAAa,KAAKI,SAASC,OAG9CF,KAAKG,cAAcT,EAAE,gBAAgBK,SAAS,MAG9CL,EAAE,mBAAmBU,OAAM,SAASC,MAC5BA,EAAEC,MAAO,KACLC,GAAKb,EAAEc,MAAMC,KAAK,WACtBf,EAAE,eAAiBG,WAAjB,kBAAuDU,GAAK,KAAKG,KAAK,YAAY,GAGhFZ,YACAJ,EAAE,eAAiBG,WAAa,KAAKc,QAAQ,QAAQC"}