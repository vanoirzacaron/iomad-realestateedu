{"version":3,"file":"company_user.min.js","sources":["../src/company_user.js"],"sourcesContent":["/*\n * @package    block_iomad_company_admin\n * @copyright  2019 Howard Miller\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\n /**\n  * @module block_iomad_company_admin/company_user\n  */\n\ndefine(['jquery', 'core/ajax', 'core/notification', 'core/modal_factory', 'core/modal_events', 'core/str', 'core/templates'],\n    function($, ajax, notification, ModalFactory, ModalEvents, str, templates) {\n    return {\n        init: function() {\n\n            // License option updated\n            $('#licenseidselector').on('change', function() {\n                var licenseid = $(this).val();\n                if (licenseid == 0) {\n                    $('#licensecoursescontainer').addClass('invisible');\n                    return;\n                }\n\n                // Get license details\n                ajax.call([{\n                    methodname: 'block_iomad_company_admin_get_license_from_id',\n                    args: {\n                        licenseid: licenseid\n                    },\n                    done: function(licensedata) {\n                        $('#licensecoursescontainer').removeClass('invisible');\n\n                        templates.render('block_iomad_company_admin/licensecourseselector', licensedata)\n                            .then(function(html) {\n                                $(\"#licensecourseselector\").html(html);\n\n                            })\n                            .fail(notification.exception);\n\n                        templates.render('block_iomad_company_admin/licensedetails', licensedata)\n                            .then(function(html) {\n                                $(\"#licensedetails\").html(html);\n                            })\n                            .fail(notification.exception);\n\n                    },\n                    fail: notification.exception\n                }]);\n            });\n        }\n    };\n});\n"],"names":["define","$","ajax","notification","ModalFactory","ModalEvents","str","templates","init","on","licenseid","this","val","call","methodname","args","done","licensedata","removeClass","render","then","html","fail","exception","addClass"],"mappings":";;;;;AAUAA,gDAAO,CAAC,SAAU,YAAa,oBAAqB,qBAAsB,oBAAqB,WAAY,mBACvG,SAASC,EAAGC,KAAMC,aAAcC,aAAcC,YAAaC,IAAKC,iBACzD,CACHC,KAAM,WAGFP,EAAE,sBAAsBQ,GAAG,UAAU,eAC7BC,UAAYT,EAAEU,MAAMC,MACP,GAAbF,UAMJR,KAAKW,KAAK,CAAC,CACPC,WAAY,gDACZC,KAAM,CACFL,UAAWA,WAEfM,KAAM,SAASC,aACXhB,EAAE,4BAA4BiB,YAAY,aAE1CX,UAAUY,OAAO,kDAAmDF,aAC/DG,MAAK,SAASC,MACXpB,EAAE,0BAA0BoB,KAAKA,SAGpCC,KAAKnB,aAAaoB,WAEvBhB,UAAUY,OAAO,2CAA4CF,aACxDG,MAAK,SAASC,MACXpB,EAAE,mBAAmBoB,KAAKA,SAE7BC,KAAKnB,aAAaoB,YAG3BD,KAAMnB,aAAaoB,aA3BnBtB,EAAE,4BAA4BuB,SAAS"}